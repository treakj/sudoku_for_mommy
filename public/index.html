<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>üß© Sudoku for Mommy - v0.9.4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">

</head>

<body class="bg-gray-100 text-gray-800 flex flex-col items-center justify-center min-h-screen p-4">

    <div class="w-full max-w-2xl mx-auto">
        <header class="text-center mb-4 relative">
            <h1 id="main-title" class="text-3xl md:text-4xl font-bold text-gray-900">Jogo de Sudoku <span class="text-lg text-blue-600">v0.9.4</span></h1>
            <p id="subtitle" class="text-gray-600 mt-1">Desafie sua l√≥gica e divirta-se!</p>
            
            <!-- Indica√ß√µes de Controle -->
            <div class="controls-info-panel mt-4">
                <details class="controls-info">
                    <summary class="controls-summary">‚ÑπÔ∏è <span id="how-to-play-title" data-translate="how-to-play">Como Jogar</span></summary>
                    <div class="controls-content" id="how-to-play-content">
                        <div class="control-section">
                            <h4>‚å®Ô∏è <span data-translate="keyboard">Teclado</span></h4>
                            <ul id="keyboard-controls">
                                <li><kbd>1-9</kbd> <span data-translate="insert-numbers">Inserir n√∫meros</span></li>
                                <li><kbd>Shift</kbd> + <kbd>1-9</kbd> <span data-translate="notes-mode">Modo notas</span></li>
                                <li><kbd>Q</kbd> <span data-translate="toggle-notes">Alternar modo notas</span></li>
                                <li><kbd>C</kbd> <span data-translate="cycle-colors">Alternar entre cores</span></li>
                                <li><kbd>Space</kbd> <span data-translate="apply-color">Aplicar cor selecionada</span></li>
                                <li><kbd>Ctrl+Z</kbd> <span data-translate="undo">Desfazer</span></li>
                                <li><kbd>Ctrl+Y</kbd> <span data-translate="redo">Refazer</span></li>
                                <li><kbd>H</kbd> <span data-translate="hint">Dica</span></li>
                                <li><kbd>Delete</kbd> <span data-translate="delete">Apagar</span></li>
                                <li><kbd>‚Üë‚Üì‚Üê‚Üí</kbd> <span data-translate="navigate">Navegar</span></li>
                            </ul>
                        </div>
                        <div class="control-section">
                            <h4>üñ±Ô∏è <span data-translate="mouse-touch">Mouse/Touch</span></h4>
                            <ul id="mouse-controls">
                                <li><span data-translate="click-select">Clique para selecionar c√©lula</span></li>
                                <li><span data-translate="click-highlight">Clique em n√∫mero para destacar</span></li>
                                <li><span data-translate="mobile-panel">Mobile: Use painel inferior</span></li>
                            </ul>
                        </div>
                        <div class="control-section">
                            <h4>üéØ <span data-translate="features">Recursos</span></h4>
                            <ul id="features-list">
                                <li>üî¢ <span data-translate="number-counter">Contador de n√∫meros (canto)</span></li>
                                <li>üìù <span data-translate="notes-system">Sistema de notas</span></li>
                                <li>üé® <span data-translate="color-system">Sistema de cores</span></li>
                                <li>üéØ <span data-translate="auto-highlight">Destaque autom√°tico</span></li>
                            </ul>
                        </div>
                    </div>
                </details>
            </div>
            
            <button id="lang-toggle" style="display: none;"
                class="absolute top-0 right-0 bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-4 rounded-lg transition-colors">
                PT
            </button>
            
            <div class="absolute top-0 right-0 flex gap-1">
                <button id="lang-pt" class="lang-btn bg-blue-500 text-white px-2 py-1 rounded text-sm font-semibold hover:bg-blue-600 transition-colors" data-lang="pt">PT</button>
                <button id="lang-en" class="lang-btn bg-gray-300 text-gray-700 px-2 py-1 rounded text-sm font-semibold hover:bg-gray-400 transition-colors" data-lang="en">EN</button>
                <button id="lang-ja" class="lang-btn bg-blue-500 text-white px-2 py-1 rounded text-sm font-semibold hover:bg-blue-600 transition-colors" data-lang="ja">JP</button>
            </div>
        </header>

        <main class="bg-white p-4 sm:p-6 rounded-xl shadow-lg">
            <!-- Controles de Dificuldade -->
            <div class="flex flex-wrap gap-2 sm:gap-4 justify-center mb-4 items-center">
                <div class="flex items-center gap-1 sm:gap-2 flex-wrap justify-center">
                    <span id="difficulty-label" class="font-semibold">Dificuldade:</span>
                    <button data-difficulty="easy"
                        class="btn-difficulty border-2 border-gray-300 px-2 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors hover:bg-blue-100"
                        data-lang-key="easy">F√°cil</button>
                    <button data-difficulty="medium"
                        class="btn-difficulty border-2 border-gray-300 px-2 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors hover:bg-blue-100 active"
                        data-lang-key="medium">M√©dio</button>
                    <button data-difficulty="hard"
                        class="btn-difficulty border-2 border-gray-300 px-2 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors hover:bg-blue-100"
                        data-lang-key="hard">Dif√≠cil</button>
                    <button data-difficulty="expert"
                        class="btn-difficulty border-2 border-gray-300 px-2 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors hover:bg-blue-100"
                        data-lang-key="expert">Dific√≠limo</button>
                    <button data-difficulty="insane"
                        class="btn-difficulty border-2 border-gray-300 px-2 py-1 rounded-md text-xs sm:text-sm font-medium transition-colors hover:bg-blue-100"
                        data-lang-key="insane">Dific√≠limo Mesmo</button>
                </div>
            </div>

            <!-- Controles de A√ß√£o - Primeira Linha -->
            <div class="flex flex-wrap gap-2 sm:gap-4 justify-center mb-2 game-controls">
                <button id="new-game-btn"
                    class="bg-blue-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-blue-700 transition-transform transform hover:scale-105"
                    data-lang-key="newGame">Novo Jogo</button>
                <button id="reset-btn"
                    class="bg-gray-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-600 transition-transform transform hover:scale-105"
                    data-lang-key="reset">Limpar</button>
                <button id="undo-btn"
                    class="bg-indigo-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-indigo-600 transition-transform transform hover:scale-105">‚Ü∂ Desfazer</button>
                <button id="redo-btn"
                    class="bg-indigo-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-indigo-600 transition-transform transform hover:scale-105">‚Ü∑ Refazer</button>
                <button id="notes-btn"
                    class="btn-action bg-purple-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-purple-600 transition-transform transform hover:scale-105"
                    data-lang-key="notes">üìù Notas</button>
            </div>

            <!-- Controles de A√ß√£o - Segunda Linha -->
            <div class="flex flex-wrap gap-2 sm:gap-4 justify-center mb-4 game-controls">
                <button id="color-btn"
                    class="btn-action bg-orange-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-orange-600 transition-transform transform hover:scale-105">üé® Cores</button>
                <button id="hint-btn"
                    class="btn-action bg-green-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-600 transition-transform transform hover:scale-105"
                    data-lang-key="hint">Dica (3)</button>
                <button id="show-answer-btn"
                    class="btn-action bg-yellow-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-yellow-600 transition-transform transform hover:scale-105"
                    data-lang-key="showAnswer">Resposta</button>
                <button id="clear-colors-btn"
                    class="bg-red-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-600 transition-transform transform hover:scale-105">üóëÔ∏è Limpar Cores</button>
                <button id="settings-btn"
                    class="bg-teal-500 text-white px-4 py-2 rounded-md font-semibold hover:bg-teal-600 transition-transform transform hover:scale-105">‚öôÔ∏è Config</button>
            </div>

            <!-- Canvas do Jogo -->
            <div class="canvas-container mx-auto relative">
                <canvas id="sudoku-canvas"></canvas>
                <div id="loader-container"
                    class="absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center hidden">
                    <div id="loader"></div>
                </div>
            </div>
            <!-- Painel de N√∫meros para Mobile -->
            <div id="number-panel" class="grid grid-cols-10 gap-1 mt-4">
                <button data-num="1"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">1</button>
                <button data-num="2"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">2</button>
                <button data-num="3"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">3</button>
                <button data-num="4"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">4</button>
                <button data-num="5"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">5</button>
                <button data-num="6"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">6</button>
                <button data-num="7"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">7</button>
                <button data-num="8"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">8</button>
                <button data-num="9"
                    class="num-btn bg-gray-200 p-2 rounded-md text-xl font-bold hover:bg-blue-200 aspect-square flex items-center justify-center">9</button>
                <button data-num="0"
                    class="num-btn bg-red-200 p-2 rounded-md text-xl font-bold hover:bg-red-300 aspect-square flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 002.828 0L21 12M3 12l6.414-6.414a2 2 0 012.828 0L21 12" />
                    </svg>
                </button>
            </div>
        </main>

        <!-- Modal de Vit√≥ria -->
        <div id="win-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white p-8 rounded-lg shadow-2xl text-center transform transition-all scale-95">
                <h2 id="win-title" class="text-3xl font-bold text-yellow-500 mb-2">Parab√©ns!</h2>
                <p id="win-subtitle" class="text-lg text-gray-700 mb-6">Voc√™ completou o Sudoku!</p>
                <button id="modal-new-game-btn"
                    class="bg-blue-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-blue-700 transition-transform transform hover:scale-105"
                    data-lang-key="playAgain">Jogar Novamente</button>
            </div>
        </div>

        <!-- Modal de Confirma√ß√£o para Mostrar Resposta -->
        <div id="confirm-modal"
            class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white p-8 rounded-lg shadow-2xl text-center transform transition-all scale-95">
                <h2 id="confirm-title" class="text-2xl font-bold text-gray-800 mb-4">Mostrar Resposta?</h2>
                <p id="confirm-subtitle" class="text-gray-600 mb-6">Isso preencher√° todo o tabuleiro e encerrar√° o jogo
                    atual. Voc√™ tem certeza?</p>
                <div class="flex justify-center gap-4">
                    <button id="confirm-cancel-btn"
                        class="bg-gray-300 text-gray-800 px-6 py-2 rounded-md font-semibold hover:bg-gray-400"
                        data-lang-key="cancel">Cancelar</button>
                    <button id="confirm-show-btn"
                        class="bg-red-600 text-white px-6 py-2 rounded-md font-semibold hover:bg-red-700"
                        data-lang-key="confirm">Confirmar</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        // --- IMPORTS ---
        import { SudokuGame } from './js/modules/game-enhanced.js';
        
        // --- M√ìDULO DE TRADU√á√ÉO ---
        const translations = {
            en: {
                mainTitle: "Sudoku Game",
                subtitle: "Challenge your logic and have fun!",
                difficultyLabel: "Difficulty:",
                easy: "Easy",
                medium: "Medium",
                hard: "Hard",
                expert: "Expert",
                insane: "Insane",
                newGame: "New Game",
                reset: "Reset",
                undo: "Undo",
                redo: "Redo",
                clearColors: "Clear Colors",
                settings: "Settings",
                hint: "Hint",
                notes: "Notes",
                notesActive: "Notes Mode",
                showAnswer: "Answer",
                winTitle: "Congratulations!",
                winSubtitle: "You have completed the Sudoku!",
                playAgain: "Play Again",
                confirmTitle: "Show Answer?",
                confirmSubtitle: "This will fill the entire board and end the current game. Are you sure?",
                cancel: "Cancel",
                confirm: "Confirm",
                langToggle: "JP",
                "how-to-play": "How to Play",
                keyboard: "Keyboard",
                "mouse-touch": "Mouse/Touch",
                features: "Features",
                "insert-numbers": "Insert numbers",
                "notes-mode": "Notes mode",
                "toggle-notes": "Toggle notes mode",
                "cycle-colors": "Cycle through colors",
                "apply-color": "Apply selected color",
                undo: "Undo",
                redo: "Redo",
                hint: "Hint",
                delete: "Delete",
                navigate: "Navigate",
                "click-select": "Click to select cell",
                "click-highlight": "Click number to highlight",
                "mobile-panel": "Mobile: Use bottom panel",
                "number-counter": "Number counter (corner)",
                "notes-system": "Notes system",
                "color-system": "Color system",
                "auto-highlight": "Auto highlight"
            },
            pt: {
                mainTitle: "Jogo Sudoku",
                subtitle: "Desafie sua l√≥gica e divirta-se!",
                difficultyLabel: "Dificuldade:",
                easy: "F√°cil",
                medium: "M√©dio",
                hard: "Dif√≠cil",
                expert: "Expert",
                insane: "Insano",
                newGame: "Novo Jogo",
                reset: "Reiniciar",
                undo: "Desfazer",
                redo: "Refazer",
                clearColors: "Limpar Cores",
                settings: "Configura√ß√µes",
                hint: "Dica",
                notes: "Notas",
                notesActive: "Modo Notas",
                showAnswer: "Resposta",
                winTitle: "Parab√©ns!",
                winSubtitle: "Voc√™ completou o Sudoku!",
                playAgain: "Jogar Novamente",
                confirmTitle: "Mostrar Resposta?",
                confirmSubtitle: "Isso preencher√° todo o tabuleiro e encerrar√° o jogo atual. Tem certeza?",
                cancel: "Cancelar",
                confirm: "Confirmar",
                langToggle: "JP",
                "how-to-play": "Como Jogar",
                keyboard: "Teclado",
                "mouse-touch": "Mouse/Touch",
                features: "Recursos",
                "insert-numbers": "Inserir n√∫meros",
                "notes-mode": "Modo notas",
                "toggle-notes": "Alternar modo notas",
                "cycle-colors": "Alternar entre cores",
                "apply-color": "Aplicar cor selecionada",
                undo: "Desfazer",
                redo: "Refazer",
                hint: "Dica",
                delete: "Apagar",
                navigate: "Navegar",
                "click-select": "Clique para selecionar c√©lula",
                "click-highlight": "Clique em n√∫mero para destacar",
                "mobile-panel": "Mobile: Use painel inferior",
                "number-counter": "Contador de n√∫meros (canto)",
                "notes-system": "Sistema de notas",
                "color-system": "Sistema de cores",
                "auto-highlight": "Destaque autom√°tico"
            },
            ja: {
                mainTitle: "Êï∞Áã¨„Ç≤„Éº„É†„ÄÄÔºàÊØç„Å°„ÇÉ„ÇìÁî®Ôºâ",
                subtitle: "Ë´ñÁêÜ„Å´ÊåëÊà¶„Åó„Å¶Ê•Ω„Åó„Çì„Åß„Åè„Å†„Åï„ÅÑÔºÅ",
                difficultyLabel: "Èõ£ÊòìÂ∫¶:",
                easy: "Á∞°Âçò",
                medium: "‰∏≠Á¥ö",
                hard: "Èõ£„Åó„ÅÑ",
                expert: "„Ç®„Ç≠„Çπ„Éë„Éº„Éà",
                insane: "Ë∂ÖÈõ£Èñ¢„ÄÄ„ÄêÁúüÂºìÁî®Ôºâ",
                newGame: "Êñ∞„Åó„ÅÑ„Ç≤„Éº„É†",
                reset: "„É™„Çª„ÉÉ„Éà",
                undo: "ÂÖÉ„Å´Êàª„Åô",
                redo: "„ÇÑ„ÇäÁõ¥„Åô",
                clearColors: "Ëâ≤„Çí„ÇØ„É™„Ç¢",
                settings: "Ë®≠ÂÆö",
                hint: "„Éí„É≥„Éà",
                notes: "„É°„É¢",
                notesActive: "„É°„É¢„É¢„Éº„Éâ",
                showAnswer: "Á≠î„Åà",
                winTitle: "„Åä„ÇÅ„Åß„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅ",
                winSubtitle: "Êï∞Áã¨„Çí„ÇØ„É™„Ç¢„Åó„Åæ„Åó„ÅüÔºÅ",
                playAgain: "„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§",
                confirmTitle: "Á≠î„Åà„ÇíË°®Á§∫„Åó„Åæ„Åô„ÅãÔºü",
                confirmSubtitle: "„Åì„Çå„Å´„Çà„Çä„ÄÅ„Åô„Åπ„Å¶„ÅÆ„Éû„Çπ„ÅåÂüã„ÇÅ„Çâ„Çå„ÄÅÁèæÂú®„ÅÆ„Ç≤„Éº„É†„ÅØÁµÇ‰∫Ü„Åó„Åæ„Åô„ÄÇ„Çà„Çç„Åó„ÅÑ„Åß„Åô„ÅãÔºü",
                cancel: "„Ç≠„É£„É≥„Çª„É´",
                confirm: "Á¢∫Ë™ç",
                langToggle: "PT",
                "how-to-play": "ÈÅä„Å≥Êñπ",
                keyboard: "„Ç≠„Éº„Éú„Éº„Éâ",
                "mouse-touch": "„Éû„Ç¶„Çπ/„Çø„ÉÉ„ÉÅ",
                features: "Ê©üËÉΩ",
                "insert-numbers": "Êï∞Â≠ó„ÇíÂÖ•Âäõ",
                "notes-mode": "„É°„É¢„É¢„Éº„Éâ",
                "toggle-notes": "„É°„É¢„É¢„Éº„ÉâÂàáÊõø",
                "cycle-colors": "Ëâ≤„ÇíÂæ™Áí∞",
                "apply-color": "ÈÅ∏Êäû„Åó„ÅüËâ≤„ÇíÈÅ©Áî®",
                undo: "ÂÖÉ„Å´Êàª„Åô",
                redo: "„ÇÑ„ÇäÁõ¥„Åô",
                hint: "„Éí„É≥„Éà",
                delete: "ÂâäÈô§",
                navigate: "„Éä„Éì„Ç≤„Éº„Éà",
                "click-select": "„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Çª„É´„ÇíÈÅ∏Êäû",
                "click-highlight": "Êï∞Â≠ó„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Éè„Ç§„É©„Ç§„Éà",
                "mobile-panel": "„É¢„Éê„Ç§„É´: ‰∏ã„ÅÆ„Éë„Éç„É´„Çí‰ΩøÁî®",
                "number-counter": "Êï∞Â≠ó„Ç´„Ç¶„É≥„Çø„ÉºÔºàËßíÔºâ",
                "notes-system": "„É°„É¢„Ç∑„Çπ„ÉÜ„É†",
                "color-system": "„Ç´„É©„Éº„Ç∑„Çπ„ÉÜ„É†",
                "auto-highlight": "Ëá™Âãï„Éè„Ç§„É©„Ç§„Éà"
            }
        };

        let currentLang = 'ja'; // Japon√™s como padr√£o

        function updateUIText() {
            document.body.className = document.body.className.replace(/lang-\w+/g, '');
            document.body.classList.add(`lang-${currentLang}`);

            const t = translations[currentLang];
            document.getElementById('main-title').textContent = t.mainTitle;
            document.getElementById('subtitle').textContent = t.subtitle;
            document.getElementById('difficulty-label').textContent = t.difficultyLabel;
            document.querySelector('[data-difficulty="easy"]').textContent = t.easy;
            document.querySelector('[data-difficulty="medium"]').textContent = t.medium;
            document.querySelector('[data-difficulty="hard"]').textContent = t.hard;
            document.querySelector('[data-difficulty="expert"]').textContent = t.expert;
            document.querySelector('[data-difficulty="insane"]').textContent = t.insane;
            document.getElementById('new-game-btn').textContent = t.newGame;
            document.getElementById('reset-btn').textContent = t.reset;
            document.getElementById('undo-btn').textContent = t.undo;
            document.getElementById('redo-btn').textContent = t.redo;
            document.getElementById('clear-colors-btn').textContent = t.clearColors;
            document.getElementById('settings-btn').textContent = t.settings;
            document.getElementById('hint-btn').textContent = t.hint;
            document.getElementById('notes-btn').textContent = t.notes;
            document.getElementById('show-answer-btn').textContent = t.showAnswer;
            document.getElementById('win-title').textContent = t.winTitle;
            document.getElementById('win-subtitle').textContent = t.winSubtitle;
            document.getElementById('modal-new-game-btn').textContent = t.playAgain;
            document.getElementById('confirm-title').textContent = t.confirmTitle;
            document.getElementById('confirm-subtitle').textContent = t.confirmSubtitle;
            document.getElementById('confirm-cancel-btn').textContent = t.cancel;
            document.getElementById('confirm-show-btn').textContent = t.confirm;
            
            // Atualizar elementos com data-translate
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (t[key]) {
                    element.textContent = t[key];
                }
            });
            
            // Atualizar bot√µes de idioma
            updateLanguageButtons();
        }

        function updateLanguageButtons() {
            const langButtons = document.querySelectorAll('.lang-btn');
            langButtons.forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.lang === currentLang) {
                    btn.classList.add('active');
                }
            });
        }

        function setLanguage(lang) {
            currentLang = lang;
            updateUIText();
        }

        // O jogo agora usa a classe SudokuGame do m√≥dulo game-enhanced.js
        // que inclui todos os sistemas avan√ßados, incluindo o sistema de cores

        // --- PONTO DE ENTRADA DA APLICA√á√ÉO ---
        document.addEventListener('DOMContentLoaded', () => {
            const game = new SudokuGame('sudoku-canvas');

            // --- Event Listeners dos Controles ---
            document.querySelectorAll('.btn-difficulty').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.btn-difficulty').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    game.difficulty = btn.dataset.difficulty;
                    game.startNewGame();
                });
            });

            document.getElementById('new-game-btn').addEventListener('click', () => game.startNewGame());
            document.getElementById('reset-btn').addEventListener('click', () => game.resetBoard());
            document.getElementById('notes-btn').addEventListener('click', () => {
                if (game.notesSystem) {
                    game.notesSystem.toggleNotesMode();
                }
            });

            document.getElementById('modal-new-game-btn').addEventListener('click', () => {
                document.getElementById('win-modal').classList.add('hidden');
                game.startNewGame();
            });

            document.querySelectorAll('.num-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (game.selected.row !== -1) {
                        const num = parseInt(btn.dataset.num);
                        game.placeNumber(game.selected.row, game.selected.col, num);
                    }
                });
            });

            // L√≥gica do Modal de Confirma√ß√£o
            document.getElementById('show-answer-btn').addEventListener('click', () => game.showConfirmModal());
            document.getElementById('confirm-cancel-btn').addEventListener('click', () => game.hideConfirmModal());
            document.getElementById('confirm-show-btn').addEventListener('click', () => {
                game.showAnswer();
                game.hideConfirmModal();
            });

            // Event listeners para os novos bot√µes s√£o gerenciados pelos pr√≥prios sistemas
            // para evitar conflitos e duplica√ß√£o

            document.getElementById('clear-colors-btn').addEventListener('click', () => {
                if (game.colorSystem) {
                    game.colorSystem.clearAllColors();
                }
            });

            document.getElementById('settings-btn').addEventListener('click', () => {
                game.showSettingsModal();
            });

            // L√≥gica dos Seletores de Idioma
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    setLanguage(btn.dataset.lang);
                    game.updateHintButton();
                    game.updateNotesButton();
                });
            });

            // Inicia a UI com o idioma padr√£o
            updateUIText();
        });

    </script>
</body>

</html>